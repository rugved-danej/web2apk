<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Calculator App</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div class="app-container">
        
        <div class="toolbar">
            <div class="tools-left">
                <button class="icon-btn" onclick="toggleHistory()" title="History">üïí</button>
                <button class="icon-btn" onclick="toggleSettings()" title="Settings">‚öôÔ∏è</button>
            </div>
            <button class="icon-btn backspace-btn" onclick="deleteChar()">‚å´</button>
        </div>

        <div class="display-area">
            <div class="input-line" id="mainInput">
                <span id="equationText"></span><span class="cursor"></span>
            </div>
            <div class="preview-line" id="previewResult"></div>
        </div>

        <div class="keypad">
            <button class="btn-top" onclick="clearAll()">C</button>
            <button class="btn-top" onclick="appendOperator('(')">( )</button>
            <button class="btn-top" onclick="appendOperator('%')">%</button>
            <button class="btn-op" onclick="appendOperator('/')">√∑</button>

            <button class="btn-num" onclick="appendNumber('7')">7</button>
            <button class="btn-num" onclick="appendNumber('8')">8</button>
            <button class="btn-num" onclick="appendNumber('9')">9</button>
            <button class="btn-op" onclick="appendOperator('*')">√ó</button>

            <button class="btn-num" onclick="appendNumber('4')">4</button>
            <button class="btn-num" onclick="appendNumber('5')">5</button>
            <button class="btn-num" onclick="appendNumber('6')">6</button>
            <button class="btn-op" onclick="appendOperator('-')">‚àí</button>

            <button class="btn-num" onclick="appendNumber('1')">1</button>
            <button class="btn-num" onclick="appendNumber('2')">2</button>
            <button class="btn-num" onclick="appendNumber('3')">3</button>
            <button class="btn-op" onclick="appendOperator('+')">+</button>

            <button class="btn-num" onclick="toggleSign()">+/-</button>
            <button class="btn-num" onclick="appendNumber('0')">0</button>
            <button class="btn-num" onclick="appendNumber('.')">.</button>
            <button class="btn-equal" onclick="finalizeResult()">=</button>
        </div>

        <div id="history-overlay" class="overlay hidden">
            <div class="overlay-header">
                <h2>History</h2>
                <button class="close-btn" onclick="toggleHistory()">√ó</button>
            </div>
            <div id="history-list" class="overlay-content">
                <p class="empty-msg">No history yet</p>
            </div>
            <button class="clear-history-btn" onclick="clearHistory()">Clear History</button>
        </div>

        <div id="settings-overlay" class="overlay hidden">
            <div class="overlay-header">
                <h2>Appearance</h2>
                <button class="close-btn" onclick="toggleSettings()">√ó</button>
            </div>
            <div class="overlay-content">
                
                <div class="theme-section">
                    <h3>Mode</h3>
                    <button class="theme-btn" onclick="applyTheme('system')">üì± System Default</button>
                    <button class="theme-btn" onclick="applyTheme('dark')">üåë Dark Mode</button>
                    <button class="theme-btn" onclick="applyTheme('light')">‚òÄÔ∏è Light Mode</button>
                </div>

                <div class="theme-section">
                    <h3>Collection</h3>
                    <div class="grid-themes">
                        <button class="theme-chip" style="background:#bd93f9" onclick="applyTheme('dracula')">Dracula</button>
                        <button class="theme-chip" style="background:#00bcd4" onclick="applyTheme('ocean')">Ocean</button>
                        <button class="theme-chip" style="background:#4caf50" onclick="applyTheme('forest')">Forest</button>
                        <button class="theme-chip" style="background:#ff9800" onclick="applyTheme('sunset')">Sunset</button>
                        <button class="theme-chip" style="background:#e91e63" onclick="applyTheme('neon')">Neon</button>
                    </div>
                </div>

                <div class="theme-section custom-builder">
                    <h3>Create Your Own</h3>
                    <div class="color-picker-row">
                        <label>Background</label>
                        <input type="color" id="cust-bg" value="#000000" oninput="previewCustomTheme()">
                    </div>
                    <div class="color-picker-row">
                        <label>Numbers</label>
                        <input type="color" id="cust-btn" value="#333333" oninput="previewCustomTheme()">
                    </div>
                    <div class="color-picker-row">
                        <label>Accent</label>
                        <input type="color" id="cust-accent" value="#35C759" oninput="previewCustomTheme()">
                    </div>
                    <div class="color-picker-row">
                        <label>Text</label>
                        <input type="color" id="cust-text" value="#ffffff" oninput="previewCustomTheme()">
                    </div>
                    <button class="save-theme-btn" onclick="saveCustomTheme()">Apply Custom Theme</button>
                </div>

            </div>
        </div>

    </div>

    <script src="script.js"></script>
</body>
</html>
